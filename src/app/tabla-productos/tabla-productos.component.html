<div class="principal">
  <div class="form">

    <!-- Logo superior -->
    <div class="logo-header">
      <img src="https://bolsadequito.com/images/2018/06/05/LOGO-BANCO-PICHINCHA-min.jpg" alt="Logo TCS">
    </div>

    <!-- Botón para abrir el modal -->
    <button (click)="abrirModal()">Agregar producto</button>

    <!-- Buscador -->
    <input
      type="text"
      placeholder="Buscar por nombre o descripción..."
      [(ngModel)]="searchText"
    />

    <!-- Tabla -->
    <table>
      <thead>
        <tr>
          <th>Logo</th>
          <th>Nombre</th>
          <th>Descripción</th>
          <th>Fecha de liberación</th>
          <th>Fecha de reestructuración</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let producto of productosPorPagina">
          <td>
            <img 
              src="https://www.jgholdings.co.za/wp-content/uploads/2021/09/cropped-cropped-LOGO3.png"
              alt="logo"
              width="50"
              height="50"
            />
          </td>
          <td>{{ producto.nombre }}</td>
          <td>{{ producto.descripcion }}</td>
          <td>{{ producto.fechaLiberacion }}</td>
          <td>{{ producto.fechaReestructuracion }}</td>
        </tr>
      </tbody>
    </table>

    <!-- Footer -->
    <div class="tabla-footer">
      <div>
        Mostrando {{ productosFiltrados.length }} resultado{{ productosFiltrados.length === 1 ? '' : 's' }}.
      </div>
      <div>
        <label for="registros">Registros por página: </label>
        <select [(ngModel)]="registrosPorPagina" id="registros">
          <option value="5">5</option>
          <option value="10">10</option>
          <option value="20">20</option>
        </select>
      </div>
    </div>

    <!-- Modal -->
    <div class="modal" *ngIf="mostrarModal">
      <div class="modal-content">
        <h3>Agregar nuevo producto</h3>
        
        <form class="form-grid">
          <div class="form-row">
            <div class="form-group">
              <label>ID</label>
              <input type="number" [(ngModel)]="nuevoProducto.id" name="id">
            </div>
            <div class="form-group">
              <label>Nombre</label>
              <input type="text" [(ngModel)]="nuevoProducto.nombre" name="nombre">
            </div>
          </div>

          <div class="form-row">
            <div class="form-group">
              <label>Descripción</label>
              <input type="text" [(ngModel)]="nuevoProducto.descripcion" name="descripcion">
            </div>
            <div class="form-group">
              <label>Logo</label>
              <input type="text" [(ngModel)]="nuevoProducto.logo" name="logo">
            </div>
          </div>

          <div class="form-row">
            <div class="form-group">
              <label>Fecha liberación</label>
              <input type="date" [(ngModel)]="nuevoProducto.fechaLiberacion" name="fechaLiberacion">
            </div>
            <div class="form-group">
              <label>Fecha reestructuración</label>
              <input type="date" [(ngModel)]="nuevoProducto.fechaReestructuracion" name="fechaReestructuracion">
            </div>
          </div>

          <div class="modal-buttons">
            <button type="button" (click)="reiniciarFormulario()">Reiniciar</button>
            <button type="button" (click)="enviarProducto()">Enviar</button>
          </div>
        </form>
      </div>
    </div>

  </div>
</div>
